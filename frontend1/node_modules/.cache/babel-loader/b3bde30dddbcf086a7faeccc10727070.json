{"ast":null,"code":"import { useState, useRef, useCallback, useEffect } from 'react';\n\nvar canUsePassiveEvents = function () {\n  if (typeof window === \"undefined\" || typeof window.addEventListener !== \"function\") return false;\n  var passive = false;\n  var options = Object.defineProperty({}, \"passive\", {\n    // eslint-disable-next-line getter-return\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {\n    return null;\n  };\n\n  window.addEventListener(\"test\", noop, options);\n  window.removeEventListener(\"test\", noop, options);\n  return passive;\n};\n\nvar DEFAULT_IGNORE_CLASS = \"ignore-onclickoutside\";\n\nvar hasIgnoreClass = function hasIgnoreClass(e, ignoreClass) {\n  var el = e.target || e;\n\n  while (el) {\n    var _el$classList;\n\n    if ((_el$classList = el.classList) != null && _el$classList.contains(ignoreClass)) return true;\n    el = el.parentElement;\n  }\n\n  return false;\n};\n\nvar clickedOnScrollbar = function clickedOnScrollbar(e) {\n  return document.documentElement.clientWidth <= e.clientX || document.documentElement.clientHeight <= e.clientY;\n};\n\nvar getEventOptions = function getEventOptions(type) {\n  return type.includes(\"touch\") && canUsePassiveEvents() ? {\n    passive: true\n  } : false;\n};\n\nvar useOnclickOutside = function useOnclickOutside(callback, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      refsOpt = _ref.refs,\n      disabled = _ref.disabled,\n      _ref$eventTypes = _ref.eventTypes,\n      eventTypes = _ref$eventTypes === void 0 ? [\"mousedown\", \"touchstart\"] : _ref$eventTypes,\n      excludeScrollbar = _ref.excludeScrollbar,\n      _ref$ignoreClass = _ref.ignoreClass,\n      ignoreClass = _ref$ignoreClass === void 0 ? DEFAULT_IGNORE_CLASS : _ref$ignoreClass,\n      _ref$detectIFrame = _ref.detectIFrame,\n      detectIFrame = _ref$detectIFrame === void 0 ? true : _ref$detectIFrame;\n\n  var _useState = useState([]),\n      refsState = _useState[0],\n      setRefsState = _useState[1];\n\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback;\n  var ref = useCallback(function (el) {\n    return setRefsState(function (prevState) {\n      return [].concat(prevState, [{\n        current: el\n      }]);\n    });\n  }, []);\n  useEffect(function () {\n    if (!(refsOpt != null && refsOpt.length) && !refsState.length) return;\n\n    var getEls = function getEls() {\n      var els = [];\n      (refsOpt || refsState).forEach(function (_ref2) {\n        var current = _ref2.current;\n        return current && els.push(current);\n      });\n      return els;\n    };\n\n    var handler = function handler(e) {\n      if (!hasIgnoreClass(e, ignoreClass) && !(excludeScrollbar && clickedOnScrollbar(e)) && getEls().every(function (el) {\n        return !el.contains(e.target);\n      })) callbackRef.current(e);\n    };\n\n    var blurHandler = function blurHandler(e) {\n      return (// On firefox the iframe becomes document.activeElement in the next event loop\n        setTimeout(function () {\n          var _document = document,\n              activeElement = _document.activeElement;\n          if ((activeElement == null ? void 0 : activeElement.tagName) === \"IFRAME\" && !hasIgnoreClass(activeElement, ignoreClass) && !getEls().includes(activeElement)) callbackRef.current(e);\n        }, 0)\n      );\n    };\n\n    var removeEventListener = function removeEventListener() {\n      eventTypes.forEach(function (type) {\n        return (// @ts-expect-error\n          document.removeEventListener(type, handler, getEventOptions(type))\n        );\n      });\n      if (detectIFrame) window.removeEventListener(\"blur\", blurHandler);\n    };\n\n    if (disabled) {\n      removeEventListener();\n      return;\n    }\n\n    eventTypes.forEach(function (type) {\n      return document.addEventListener(type, handler, getEventOptions(type));\n    });\n    if (detectIFrame) window.addEventListener(\"blur\", blurHandler); // eslint-disable-next-line consistent-return\n\n    return function () {\n      return removeEventListener();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [refsState, ignoreClass, excludeScrollbar, disabled, detectIFrame, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(eventTypes)]);\n  return ref;\n};\n\nexport default useOnclickOutside;\nexport { DEFAULT_IGNORE_CLASS };","map":{"version":3,"sources":["/Users/jungdaljean/Downloads/thru/frontend1/node_modules/react-cool-onclickoutside/dist/index.esm.js"],"names":["useState","useRef","useCallback","useEffect","canUsePassiveEvents","window","addEventListener","passive","options","Object","defineProperty","get","noop","removeEventListener","DEFAULT_IGNORE_CLASS","hasIgnoreClass","e","ignoreClass","el","target","_el$classList","classList","contains","parentElement","clickedOnScrollbar","document","documentElement","clientWidth","clientX","clientHeight","clientY","getEventOptions","type","includes","useOnclickOutside","callback","_temp","_ref","refsOpt","refs","disabled","_ref$eventTypes","eventTypes","excludeScrollbar","_ref$ignoreClass","_ref$detectIFrame","detectIFrame","_useState","refsState","setRefsState","callbackRef","current","ref","prevState","concat","length","getEls","els","forEach","_ref2","push","handler","every","blurHandler","setTimeout","_document","activeElement","tagName","JSON","stringify"],"mappings":"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","sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\n\nvar canUsePassiveEvents = (function () {\n  if (typeof window === \"undefined\" || typeof window.addEventListener !== \"function\") return false;\n  var passive = false;\n  var options = Object.defineProperty({}, \"passive\", {\n    // eslint-disable-next-line getter-return\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {\n    return null;\n  };\n\n  window.addEventListener(\"test\", noop, options);\n  window.removeEventListener(\"test\", noop, options);\n  return passive;\n});\n\nvar DEFAULT_IGNORE_CLASS = \"ignore-onclickoutside\";\n\nvar hasIgnoreClass = function hasIgnoreClass(e, ignoreClass) {\n  var el = e.target || e;\n\n  while (el) {\n    var _el$classList;\n\n    if ((_el$classList = el.classList) != null && _el$classList.contains(ignoreClass)) return true;\n    el = el.parentElement;\n  }\n\n  return false;\n};\n\nvar clickedOnScrollbar = function clickedOnScrollbar(e) {\n  return document.documentElement.clientWidth <= e.clientX || document.documentElement.clientHeight <= e.clientY;\n};\n\nvar getEventOptions = function getEventOptions(type) {\n  return type.includes(\"touch\") && canUsePassiveEvents() ? {\n    passive: true\n  } : false;\n};\n\nvar useOnclickOutside = function useOnclickOutside(callback, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      refsOpt = _ref.refs,\n      disabled = _ref.disabled,\n      _ref$eventTypes = _ref.eventTypes,\n      eventTypes = _ref$eventTypes === void 0 ? [\"mousedown\", \"touchstart\"] : _ref$eventTypes,\n      excludeScrollbar = _ref.excludeScrollbar,\n      _ref$ignoreClass = _ref.ignoreClass,\n      ignoreClass = _ref$ignoreClass === void 0 ? DEFAULT_IGNORE_CLASS : _ref$ignoreClass,\n      _ref$detectIFrame = _ref.detectIFrame,\n      detectIFrame = _ref$detectIFrame === void 0 ? true : _ref$detectIFrame;\n\n  var _useState = useState([]),\n      refsState = _useState[0],\n      setRefsState = _useState[1];\n\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback;\n  var ref = useCallback(function (el) {\n    return setRefsState(function (prevState) {\n      return [].concat(prevState, [{\n        current: el\n      }]);\n    });\n  }, []);\n  useEffect(function () {\n    if (!(refsOpt != null && refsOpt.length) && !refsState.length) return;\n\n    var getEls = function getEls() {\n      var els = [];\n      (refsOpt || refsState).forEach(function (_ref2) {\n        var current = _ref2.current;\n        return current && els.push(current);\n      });\n      return els;\n    };\n\n    var handler = function handler(e) {\n      if (!hasIgnoreClass(e, ignoreClass) && !(excludeScrollbar && clickedOnScrollbar(e)) && getEls().every(function (el) {\n        return !el.contains(e.target);\n      })) callbackRef.current(e);\n    };\n\n    var blurHandler = function blurHandler(e) {\n      return (// On firefox the iframe becomes document.activeElement in the next event loop\n        setTimeout(function () {\n          var _document = document,\n              activeElement = _document.activeElement;\n          if ((activeElement == null ? void 0 : activeElement.tagName) === \"IFRAME\" && !hasIgnoreClass(activeElement, ignoreClass) && !getEls().includes(activeElement)) callbackRef.current(e);\n        }, 0)\n      );\n    };\n\n    var removeEventListener = function removeEventListener() {\n      eventTypes.forEach(function (type) {\n        return (// @ts-expect-error\n          document.removeEventListener(type, handler, getEventOptions(type))\n        );\n      });\n      if (detectIFrame) window.removeEventListener(\"blur\", blurHandler);\n    };\n\n    if (disabled) {\n      removeEventListener();\n      return;\n    }\n\n    eventTypes.forEach(function (type) {\n      return document.addEventListener(type, handler, getEventOptions(type));\n    });\n    if (detectIFrame) window.addEventListener(\"blur\", blurHandler); // eslint-disable-next-line consistent-return\n\n    return function () {\n      return removeEventListener();\n    };\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [refsState, ignoreClass, excludeScrollbar, disabled, detectIFrame, // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(eventTypes)]);\n  return ref;\n};\n\nexport default useOnclickOutside;\nexport { DEFAULT_IGNORE_CLASS };\n"]},"metadata":{},"sourceType":"module"}